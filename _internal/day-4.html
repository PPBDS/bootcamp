<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="David Kane">

<title>Day 4</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="day-4_files/libs/clipboard/clipboard.min.js"></script>
<script src="day-4_files/libs/quarto-html/quarto.js"></script>
<script src="day-4_files/libs/quarto-html/popper.min.js"></script>
<script src="day-4_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="day-4_files/libs/quarto-html/anchor.min.js"></script>
<link href="day-4_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="day-4_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="day-4_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="day-4_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="day-4_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Day 4</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>David Kane </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="for-next-time" class="level2">
<h2 class="anchored" data-anchor-id="for-next-time">For Next Time</h2>
<p>Change ec.rds so that it has the necessary income data so that we can replicate the plots from the NYT article.</p>
</section>
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>Core purpose of this week is to get comfortable using our tools to answer simple data science questions. We want students to be comfortable with R/RStudio/Git/Github/Quarto.</p>
<p>For today, we are getting more comfortable with the Terminal and with file locations on our machines. A key problem is that many/most students will not have done the Terminal tutorial before class today, even though they were supposed to. We should use this fact as an occasion to shame students into staying up-to-date with the work. Slacking is not fair to their classmates!</p>
</section>
<section id="session-1" class="level2">
<h2 class="anchored" data-anchor-id="session-1">Session 1</h2>
<p>Don’t forget to do things in the class organization repo, not your personal one.</p>
<p>Start with a Github repo, named class-yyyy-mm-dd. Make sure it is public. Add a README. Connect it to RStudio.</p>
<p>Check out the Git window. Note the nagging.</p>
<p>Edit the .gitignore but with *Rproj. Wild cards are handy! Note that the file name is red and has an asterisk, because we have not saved it. Show how nothing changes in the Git window until we save the file. Once we save it, the nagging about the Rproj ends, but we still need to commit .gitignore. Then we push.</p>
<p>Send to rooms to create. If you succeeded while I was demonstrating, that is OK! Now help your classmates.</p>
</section>
<section id="session-2" class="level2">
<h2 class="anchored" data-anchor-id="session-2">Session 2</h2>
<p>Download the ec.rds file by hand. Where is it now? Every computer is different! For most of you, there should be a Downloads folder in which ec.rds has been placed.</p>
<p>ls ~/Downloads ls ~/Download/ec*</p>
<p>The second is useful if you have a lot of items in your Downloads folder.</p>
<p>But where will we place the file? We might just stick it in the top-level of our project. That is fine for simple projects. But for anything more complex, we want organization, which generally means a “data” directory, although you can call it what you want.</p>
<p>pwd ls mdkir data mv ~/Downloads/ec.rds data/</p>
<p>Of course, you could do this by hand, with point-and-click and drag-and-drop. That is OK with one file. But not with 1,000!</p>
<p>Once it is there, note that we have some more nagging from the Git pane. We could update .gitignore. Or we might just check in the file. Data is trickier than text files. Discuss how we might include it in .gitignore if it were more than 100 mb. Large data sets are tricky! Add it to .gitignore. Maybe document where we got it from in the README.</p>
<p>Go to rooms and get the data into your projects. Help your friends.</p>
</section>
<section id="session-3" class="level2">
<h2 class="anchored" data-anchor-id="session-3">Session 3</h2>
<p>Start a new Quarto document. Render it. Get rid of the junk.</p>
<p>Add library(tidyverse). Add read_rds(), which you now understand from reading the Wrangling chapter. Add in a label code option. Render and see how the set-up label is shown during knitting.</p>
<div class="cell">

</div>
<p>Back to rooms. Make sure everyone has done this. Start thinking about a plot.</p>
</section>
<section id="session-4" class="level2">
<h2 class="anchored" data-anchor-id="session-4">Session 4</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="day-4_files/figure-html/make%20plot-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="session-5" class="level2">
<h2 class="anchored" data-anchor-id="session-5">Session 5</h2>
<p>Publish the plot to Rpubs. Looks OK. But it is a little ugly to have the title and, maybe the author, edit the YAML to remove. Re-publish. Add link to class-work.</p>
<p>Now we are ready to do data science!</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>